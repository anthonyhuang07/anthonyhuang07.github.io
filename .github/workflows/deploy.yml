name: Deployment Notifications

on:
  push:
    branches: [ "main" ]

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Notify Discord (success)
        if: success()
        run: |
          curl -H "Content-Type: application/json" \
          -d "{\"content\": null, \"embeds\": [{\"title\": \"üöÄ Deployment Successful\", \"description\": \"Your fuckass website **anthonyhuang.net** deployed successfully.\", \"color\": 3066993}]}" \
          ${{ secrets.DISCORD_WEBHOOK_URL }}

      - name: Notify Discord (failure)
        if: failure()
        run: |
          curl -H "Content-Type: application/json" \
          -d "{\"content\": null, \"embeds\": [{\"title\": \"‚ùå Deployment Failed\", \"description\": \"Your fuckass website **anthonyhuang.net** fucking failed to deploy. Are you stupid?\", \"color\": 15158332}]}" \
          ${{ secrets.DISCORD_WEBHOOK_URL }}