const appDetails = {
    "1": {
        title: "Who am I?",
        subtitle: "Anthony Huang (17), from Ontario, Canada",
        description: `Hey! My name is Anthony Huang. I'm a 17-year-old high school student from Ontario, Canada.
        
        <br><br>I have a strong passion for all things tech and computing, as well as linguistics and geography! I also enjoy history, video editing, sports, gaming and travelling.
        
        <br><br>My life goal is to travel the world, visiting as many countries as possible and connecting with locals culturally and linguistically.`,
        link: "https://www.linkedin.com/in/anthonyhuang07/",
        icon: "https://cdn.iconscout.com/icon/free/png-256/free-find-my-icon-download-in-svg-png-gif-file-formats--iphone-ios-13-ios13-ipad-os-14-pack-user-interface-icons-1575949.png?f=webp&w=256"
    },
    "2": {
        title: "Programming",
        subtitle: "HTML, CSS/SCSS, JS/TS, Python",
        description: `Almost everything I know in this field is self-taught. I started programming at 8 years old when I discovered the p5.js course on Khan Academy. For a while after, I made many games and animations on <a href="https://scratch.mit.edu/users/Xboxgolfer/" target="_blank">Scratch</a>. By the time I was 10, I had started learning basic web development with HTML and CSS. To this day, front-end development is my specialty field.
        
        <br><br>I've participated in 5 hackathons, earning awards in 2 of them. I rarely dabble in competitive programming, I primarily use Python and took part in the CCC Junior and Senior competitions.
        
        <br><br>I am a soon-to-be Computer Science student in university. I hope to gain more full-stack programming experience, and I am currently exploring the field of <a href="https://tryhackme.com/p/FHDHGNGN" target="_blank">cybersecurity</a>, where I plan to specialize in.
        
        <br><br><iframe src="https://tryhackme.com/api/v2/badges/public-profile?userPublicId=3734675" style='border:none;width: 100%; height: 88px;'></iframe>`,
        link: "https://github.com/anthonyhuang07",
        icon: "https://play-lh.googleusercontent.com/PCpXdqvUWfCW1mXhH1Y_98yBpgsWxuTSTofy3NGMo9yBTATDyzVkqU580bfSln50bFU"
    },
    "3": {
        title: "School",
        subtitle: "1st Year Computer Science @ Carleton University",
        description: `I am an incoming Computer Science student at Carleton University, where I also plan to pursue a minor in Linguistics.`,
        link: "#",
        icon: "https://play-lh.googleusercontent.com/oUIb5n6akLJ0fk66LiD8jk89_Ya9HK-8a4NJpPxNe4d8cE0B7_HJjDhrx6WTR90FJxiF"
    },
    "4": {
        title: "Languages",
        subtitle: "English, French, Chinese (Mandarin), Japanese",
        description: `I speak fluent English, B2 French, B1 Mandarin and A2 Japanese.
        
        <br><br>I spent the first 8 years of my life in Québec, where I regularly spoke both English and French. I have been immersed in English media since I was a baby, while also using French outside the house.
        
        <br><br>At 8, I moved to Ontario, where English became my primary language. Although I continued studying French at school, my fluency gradually declined due to a lack of regular exposure. However, in Grade 12, my passion for the language reignited. I currently hold a DELF B2 certificate.
        
        <br><br>My interest in Japanese began when I was 15, sparked by anime and an upcoming trip to Japan. I currently hold a JLPT N5 certificate. I plan to take the JLPT N3 next, and I actively maintain my skills through daily flashcard reviews, exposure to Japanese content on social media, as well as listening to and singing Japanese music.`,
        link: "#",
        icon: "https://play-lh.googleusercontent.com/0IH4L3pX-jqQXKYCDmxTM5t3Tvak2cb_zUuIs9nKCHPeOqkaRJ_bRTq1qKawsSvunw"
    },
    "5": {
        title: "Games",
        subtitle: "Minecraft, Roblox, Minesweeper",
        description: `I play a variety of games. I have been playing Minecraft and <a href="https://www.roblox.com/users/549511045/profile" target="_blank">Roblox</a> for a while, like every other Gen-Z kid.
        
        <br><br>The game I have the most playtime on is Geometry Dash, with over 1000 hours on Steam, and 63 demons completed. My hardest is Future Funk (Hard Demon) and I had a 72% best on Acu (Extreme Demon). Check out my demonlist <a href="https://docs.google.com/spreadsheets/d/1yMG_bfNijhOFoA28eDFQneuVe2sNq_K7p3913CDdIX8/edit?gid=0#gid=0" target="_blank">here!</a>
        
        <br><br> I'm also pretty cracked at <a href="https://minesweeper.online/player/12600262" target="_blank">Minesweeper</a>. It's the game I currently play the most, and I am ranked Top 500 in Canada.`,
        link: "https://steamcommunity.com/profiles/76561199118468554/", 
        icon: "/assets/icons/steam.webp"
    },
    "6": {
        title: "Sports",
        subtitle: "CF Montréal, Montréal Canadiens",
        description: `My favorite sports are Football (Soccer) and Hockey. In football, I am a fan of CF Montréal, my boyhood club. Of course in hockey, I support the Montréal Canadiens.
        
        <br><br>In real life, I played house league at my local soccer club on and off, and I can play any position on either wing, attack or defense. I can even play as backup goalkeeper because I have very strong reaction time and reflexes.
        `,
        link: "https://www.youtube.com/watch?v=qgIOXoHwOeM",
        icon: "https://play-lh.googleusercontent.com/Wfh4tn-kWAGTUIMxVgyZ1g2BEHrdDtjyXwUdqJLwX6w640Lc3DJoLoZqoCSEbYWpTw"
    },
    "7": {
        title: "Anime",
        subtitle: "Steins;Gate, Bocchi the Rock, Lycoris Recoil...",
        description: `I would say I watch a decent amount of anime. I first started watching anime in 2019, with my first being Dragon Ball Super (why did I start with Super? I don't know). 
        
        <br><Br>My current favorites include Dragon Ball, JoJo's Bizarre Adventure, Steins;Gate, Bocchi the Rock!, Rascal Does Not Dream and Lycoris Recoil.`,
        link: "https://myanimelist.net/profile/FHDHGNGN",
        icon: "https://play-lh.googleusercontent.com/zVwzSU7ozKU0x78V7zYWDw2XFjgGsBBJA_qIJQXAFnS1R3VemFbpdaV9Bm3zOTTHvXw"
    },
    /*
    "9": {
        title: "My Setup",
        subtitle: "M2 MacBook Air, Keychron K8",
        description: "I use an M2 MacBook Air paired with a Keychron K8 featuring Milky Yellows",
        link: "#",
        icon: "https://cdn.jim-nielsen.com/ios/512/apple-support-2017-06-07.png?rf=1024"
    },
    "10": {
        title: "FHDHGNGN",
        subtitle: "What does FHDHGNGN mean?",
        description: `
                FHDHGNGN has no meaning. When I made the username, I was playing a mobile game called The Blockheads, where I needed a username. I ended up keyboard smashing. FHDHGNGN is actually the simplified result of that username after I forgot the original keyboard smashed username. The following is a history of all my usernames up to now:

                <br><br>• 2015-2016: xboxgolfer
                <br>• 2016-2018: FHDHGNGNgaming
                <br>• 2018-2019: FHDgaming
                <br>• 2019-2019: FHD
                <br>• 2019-2019: FHDFyre
                <br>• 2019-2020: FyreBoye
                <br>• 2020-2020: Robut
                <br>• 2020-2020: Roebut444/Roebut4
                <br>• 2020-now: anthonyhuang07/FHDHGNGN

                <br><br>Nowadays though, the FHD in FHDHGNGN kinda means 'Full HD' as in 1080p.
        `,
        link: "#",
        icon: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Apple_Notes_icon.svg/1024px-Apple_Notes_icon.svg.png"
    }
    */
};

function createApp() {
    const appsContainer = document.getElementById("apps");
    appsContainer.innerHTML = Object.keys(appDetails)
        .map(rank => {
            const details = appDetails[rank];
            return `
            <div class="app">
              <div>
                <img src="${details.icon}" alt="${details.title}">
                <div>
                  <div>
                    <p class="rank">${rank}</p>
                    <p class="name">${details.title}</p>
                  </div>
                  <div>
                    <p class="descMargin">${rank}</p>
                    <p class="desc">${details.subtitle}</p>
                  </div>
                </div>
              </div>
              <div>
                <p class="appStore-viewButton">View</p>
              </div>
            </div>`;
        }).join("");
}

function openAppView(rank) {
    const details = appDetails[rank];
    if (!details) return;
    document.querySelector(".appView header h1").innerText = details.title;
    document.querySelector(".appView header h2").innerText = details.subtitle;
    document.querySelector(".appStore-appView-about p").innerHTML = details.description;
    const openButton = document.querySelector(".appStore-openButton");
    if (!details.link.trim() || details.link === "#") {
        openButton.classList.add("disabled");
        openButton.onclick = null;
    } else {
        openButton.classList.remove("disabled");
        openButton.onclick = () => window.open(details.link, "_blank");
    }
    document.querySelector(".appView header img").src = details.icon;
    const appView = document.querySelector(".appView");
    if (appView) {
        appView.style.visibility = "visible";
        appView.style.opacity = "1";
        appView.style.overflow = "auto";
    }
    if (window.innerWidth <= 480) {
        document.querySelector('#apps').style.display = 'none';
    }
}

function hideAppView() {
    const appView = document.querySelector(".appView");
    if (appView) {
        appView.style.visibility = "hidden";
        appView.style.opacity = "0";

    }
    if (window.innerWidth <= 480) {
        document.querySelector('#apps').style.display = 'flex';
    }
}

function attachAppListeners() {
    document.getElementById("apps").addEventListener("click", (event) => {
        const card = event.target.closest(".app");
        if (!card) return;
        const rank = card.querySelector(".rank")?.textContent.trim();
        if (rank) openAppView(rank);
    });
}